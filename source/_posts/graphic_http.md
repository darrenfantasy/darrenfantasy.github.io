---
title: 读《图解HTTP》笔记
date: 2017-04-13 16:29:47
tags: [HTTP]
---

因为最近在写网络爬虫程序，需要对HTTP协议方面的知识有足够详细的了解。所以最近阅读了下《图解HTTP》。以下是读书笔记。

### 1.了解Web及网络基础

当我们在浏览器中输入URL时，Web页面如何显示？它是根据地址栏中的URL，从Web服务器端获取文件资源等信息，从而显示出Web页面。

**客户端**：即通过发送请求获取服务器资源的Web浏览器等，都可称为客户端。

Web使用一种名为HTTP(HyperText Transfer Protocol，超文本传输协议)的协议来作为规范，完成从客户端到服务端的一系列运作流程。

**TCP/IP协议族**：计算机和网络设备要相互通信，双方就必须基于相同的方法。如如何探测通信目标，由哪边发起通信，怎样结束通信等规则都要事先确定。不同的硬件，操作系统之间的通信，这一切都需要一种规则。我们把这种规则称为协议。我们把与互联网相关联的协议集合总称为TCP/IP。

TCP/IP协议族按层次分为：应用层、传输层、网络层、数据链路层。

**应用层**：决定了向用户提供应用服务时通信的活动。如FTP(File Transfer Protocol，文件传输协议)，DNS(Domain Name System，域名系统)。HTTP协议也位于该层。

**传输层**：对上层应用层，提供处于网络连接中的两台计算机之间的数据传输。分为TCP(Transmission Control Protocol，传输控制协议)，UDP(User Data Protocol，用户数据报协议)。

**网络层**：网络层用来处理网络上流动的数据包。数据包是网络传输的最小数据单位。该层规定了通过怎样的路径（所谓的传输路线）到达对方计算机，并把数据包传给对方。

**数据链路层**：用来处理连接网络的硬件部分。包括控制操作系统、硬件的设备驱动、NIC(Network Interface Card，网络适配器，即网卡)，及光纤等物理可见部分。硬件的范畴均在链路层的作用范围内。

利用TCP/IP协议族进行网络通信时，会通过分层顺序与对方进行通信。发送端从应用层往下走，接收端则往应用层走。

下面以HTTP请求为例来说明。

**首先作为发送端的客户端在应用层（HTTP协议）发出想访问某个Web页面的HTTP请求。**

**接着，为了传输方便，在传输层（TCP协议）把从应用层收到的数据（HTTP请求报文）进行分割，并在各个报文上打上标记序号及端口号后转发给网络层。**

**在网络层（IP协议），增加作为通信为目的地的MAC地址后转发给链路层。这样发往网络的通信请求就准备好了。**

**接收端的服务器在链路层接受到数据，按序往上层发送，一直到应用层。当传输到应用层，才是真正接收到由客户端发送过来的HTTP请求。**

![](http://oic2oders.bkt.clouddn.com/http_protocol.png)

发送端在层与层传输数据时，每经过一层时会被打上一个该层所属的首部信息。反之，接收端在层与层传输数据时，每经过一层会把对应的首部消去。